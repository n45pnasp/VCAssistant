<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Survei AirTalk</title>
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto&display=swap">
  <link rel="stylesheet" href="./main.css">
</head>
<body class="simple-page survei-page">
  <div class="survei-container">
    <div id="logo">
      <img src="https://injourney.id/assets/airports-business-logo-bK5fIp14.png" alt="Logo InJourney">
    </div>
    <h1>Survei Layanan AirTalk</h1>
    <p>Kami ingin mendengar pendapat Anda tentang layanan kami.</p>

    <form id="survey-form" class="survei-form">
      <div class="form-group">
        <label for="nama">Nama (opsional)</label>
        <input type="text" id="nama" name="nama" placeholder="Nama Anda" />
      </div>

      <div class="form-group">
        <label for="rating">Penilaian Layanan</label>
        <select id="rating" name="rating" required>
          <option value="">Pilih rating</option>
          <option value="1">1 - Sangat Buruk</option>
          <option value="2">2</option>
          <option value="3">3</option>
          <option value="4">4</option>
          <option value="5">5 - Sangat Baik</option>
        </select>
      </div>

      <div class="form-group">
        <label for="pesan">Saran / Masukan</label>
        <textarea id="pesan" name="pesan" rows="4" placeholder="Tulis masukan Anda" required></textarea>
      </div>

      <button type="submit">Kirim</button>
      <div id="msg" class="survei-message">Terima kasih atas feedback Anda!</div>
    </form>
  </div>

  <script>
  const SPREADSHEET_ID = 'https://script.google.com/macros/s/AKfycbz3uAdo3IdPP2xvbHC6xei9TWwDbTsWf9g4rnVdboTw2Pfjpa7_GiVURTAKg-YLMRxb/exec'; // ganti dengan ID Spreadsheet Google
  const SCRIPT_URL = `https://script.google.com/macros/s/${SPREADSHEET_ID}/exec`;
  const form = document.getElementById('survey-form');
  const msg = document.getElementById('msg');

  form.addEventListener('submit', e => {
    e.preventDefault();
    fetch(SCRIPT_URL, { method: 'POST', body: new FormData(form) })
      .then(() => {
        msg.style.display = 'block';
        form.reset();
      })
      .catch(() => {
        msg.textContent = 'Terjadi kesalahan. Coba lagi.';
        msg.style.display = 'block';
      });
  });
  </script>
</body>
</html>
