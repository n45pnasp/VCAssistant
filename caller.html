<!doctype html>
<html lang="id">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Caller | CS</title>
  <link rel="stylesheet" href="main.css" />
</head>
<body>

  <header class="topbar">
    <h1>Customer Service — Admin</h1>
    <div class="status">
      <span id="currentRoom">Offline</span>
      <span id="calleeNameLabel" style="display:none;"></span>
    </div>
  </header>

  <main class="layout">
    <section class="video-wrap">
      <div class="video-col">
        <h2>Admin (You)</h2>
        <video id="localVideo" autoplay playsinline muted></video>
      </div>
      <div class="video-col">
        <h2>Customer</h2>
        <video id="remoteVideo" autoplay playsinline></video>
      </div>
    </section>

    <section class="controls">
      <button id="startCallBtn" class="btn btn-primary" disabled>Mulai Panggilan</button>
      <button id="hangupBtn" class="btn btn-danger">Hangup</button>
    </section>
  </main>

  <!-- Loading overlay -->
  <div id="loading" class="loading" style="display:none;">
    <div class="spinner"></div>
    <div>Memuat…</div>
  </div>

  <!-- Slide Panel (status + sesi + antrian) -->
  <div id="panelBackdrop" class="panel-backdrop"></div>
  <aside id="slidePanel" class="slide-panel" aria-hidden="true">
    <div class="slide-header">
      <div>Panel Admin</div>
      <button id="closePanelBtn" class="icon-btn" aria-label="Tutup panel">✕</button>
    </div>
    <div class="slide-body">
      <div class="row">
        <div style="font-weight:600;margin-bottom:6px">Status</div>
        <div id="statusText" class="last-checked">-</div>
        <div id="lastCheckedText" class="last-checked">Terakhir diperiksa: -</div>
      </div>

      <div class="row" style="margin-top:12px">
        <div style="font-weight:600;margin-bottom:6px">Sesi Berjalan</div>
        <div id="sessionTimer" style="font-size:20px">00:00</div>
        <div class="last-checked">Maks 10 menit per sesi (tampilan: waktu berjalan)</div>
      </div>

      <div class="row" style="margin-top:12px">
        <div style="font-weight:600;margin-bottom:6px">Antrian</div>
        <div id="queueList" class="last-checked">Memuat antrian…</div>
      </div>
    </div>
  </aside>

  <!-- Panel handle -->
  <button id="slideHandle" class="slide-handle" aria-label="Buka panel">
    <span id="handleIcon">chevron_left</span>
  </button>

  <!-- Hanya sumber JS global -->
  <script type="module" src="app.js"></script>
</body>
</html>
